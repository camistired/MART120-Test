<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.min.js"></script>
        <script>
            
             //x and y for green obstacle
             var greenShapeX = 30;
            var greenShapeY = 50;
            var greenShapeXSpeed;
            var greenShapeYSpeed;

            //x and y for blue obstacle
            var blueShapeX = 50;
            var blueShapeY = 100;
            var blueShapeXSpeed;
            var blueShapeYSpeed;
            
            //x and y for character
            var characterX = 100;
            var characterY = 100;

            //key codes for wasd
            var w = 87;
            var s = 83;
            var a = 65;
            var d = 68;

            //create shape when mouse clicked
            var mouseShapeX;
            var mouseShapeY;

            function setup()
            {
                createCanvas(800,300);

                greenShapeXSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
                greenShapeYSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
                blueShapeXSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
                blueShapeYSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
            }

            function draw()
            {
                background(255, 182, 193);
                stroke(0);
                fill(0);

                exitMessage();

                createBorders();

                createCharacter();

                characterMovement(5);

                createGreenShape();

                greenMovement();

                createBlueShape();

                blueMovement();

                characterExitCheck();

                createShapeMouseClick();

                
            }

            function characterMovement(speed)
            {
                if(keyIsDown(w))
                {
                    characterY -= speed;
                }
                if(keyIsDown(s))
                {
                    characterY += speed;
                }
                if(keyIsDown(a))
                {
                    characterX -= speed;
                }
                if(keyIsDown(d))
                {
                    characterX += speed;
                }
            }

            function createCharacter()
            {
                fill(255,0,0);
                circle(characterX,characterY,30);
            }

            function createBorders()
            {
                //top border
                rect(0,0,width,10);
                //left border
                rect(0,0,10,height);
                //bottom border
                rect(0, height-10, width, 10);
                //right upper border
                rect(width-10,0,10,height-70);

            }
            
            function exitMessage()
            {
                textSize(24);
                text("EXIT -->", width-100,height-40);
            }

            function createGreenShape()
            {
                fill(0,255,0);
                circle(greenShapeX, greenShapeY, 15);
                
            }

            function greenMovement()
            {
                //setting random speed for green
                greenShapeXSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
                greenShapeYSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);

                //green movement
                greenShapeX += greenShapeXSpeed;
                greenShapeY += greenShapeYSpeed;

                //out of bounds detection for green
                if(greenShapeX > width)
                {
                    greenShapeX = 0;
                }
                if(greenShapeX < 0)
                {
                    greenShapeX = width;
                }
                if(greenShapeY > height)
                {
                    greenShapeY = 0;
                }
                if(greenShapeY < 0)
                {
                    greenShapeY = height;
                }
            }

            function createBlueShape()
            {
                fill(0,0,255);
                circle(blueShapeX, blueShapeY, 15);
            }

            function blueMovement()
            {
                //setting random speed for blue
                blueShapeXSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);
                blueShapeYSpeed = Math.floor(Math.random() * (Math.floor(Math.random() * 5)) +1);

                //blue movement
                blueShapeX += blueShapeXSpeed+1;
                blueShapeY += blueShapeYSpeed+1;

                //out of bounds detection for blue
                if(blueShapeX > width)
                {
                    blueShapeX = 0;
                }
                if(blueShapeX < 0)
                {
                    blueShapeX = width;
                }
                if(blueShapeY > height)
                {
                    blueShapeY = 0;
                }
                if(blueShapeY < 0)
                {
                    blueShapeY = height;
                }
            }

            function characterExitCheck()
            {
                //check to see if character left exit
                if(characterX > width && characterY > height-70)
                {
                    fill(0);
                    stroke(10);
                    textSize(40);
                    text("YIPEE YOU WIN", width/2-140, height/2-50);
                }

            }

            function mouseClicked()
            {
                mouseShapeX = mouseX;
                mouseShapeY = mouseY;
            }

            function createShapeMouseClick()
            {
                fill(120,130,140);
                circle(mouseShapeX, mouseShapeY, 25);
            }

            

        </script>
    </head>
</html>